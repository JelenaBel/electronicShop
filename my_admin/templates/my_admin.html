{% extends 'main/../../../my_admin/templates/base_admin.html' %}

{% load static %}

{% block title %}Electronics shop{% endblock %}


{% block content %}
<style>
.contentall {
  padding-top: 70px;
}
.sticky_left {
    position: fixed;
    overflow: hidden;
    top: 120px;
}


      .bd-placeholder-img {
        font-size: 1.125rem;
        text-anchor: middle;
        -webkit-user-select: none;
        -moz-user-select: none;
        user-select: none;
      }

      @media (min-width: 768px) {
        .bd-placeholder-img-lg {
          font-size: 3.5rem;
        }
      }

      .b-example-divider {
        height: 3rem;
        background-color: rgba(0, 0, 0, .1);
        border: solid rgba(0, 0, 0, .15);
        border-width: 1px 0;
        box-shadow: inset 0 .5em 1.5em rgba(0, 0, 0, .1), inset 0 .125em .5em rgba(0, 0, 0, .15);
      }
      a {
          color: black;
      }

      .b-example-vr {
        flex-shrink: 0;
        width: 1.5rem;
        height: 100vh;
      }

      .bi {
        vertical-align: -.125em;
        fill: currentColor;
      }

      .nav-scroller {
        position: relative;
        z-index: 2;
        height: 2.75rem;
        overflow-y: hidden;
      }

      .nav-scroller .nav {
        display: flex;
        flex-wrap: nowrap;
        padding-bottom: 1rem;
        margin-top: -1px;
        overflow-x: auto;
        text-align: center;
        white-space: nowrap;
        -webkit-overflow-scrolling: touch;
      }
      .nav-link {
          color: black;
          font-size: small;


      }
      .table {
          font-size: 12px;
          font-weight: bold;
      }
      .card {
    background-color: #fff;
    border-radius: 10px;
    border: none;
    position: relative;
    margin-bottom: 30px;
    box-shadow: 0 0.46875rem 2.1875rem rgba(90,97,105,0.1), 0 0.9375rem 1.40625rem rgba(90,97,105,0.1), 0 0.25rem 0.53125rem rgba(90,97,105,0.12), 0 0.125rem 0.1875rem rgba(90,97,105,0.1);
}
.l-bg-cherry {
    background: linear-gradient(to right, #493240, #f09) !important;
    color: #fff;
}

.l-bg-blue-dark {
    background: linear-gradient(to right, #373b44, #4286f4) !important;
    color: #fff;
}

.l-bg-green-dark {
    background: linear-gradient(to right, #0a504a, #38ef7d) !important;
    color: #fff;
}

.l-bg-orange-dark {
    background: linear-gradient(to right, #a86008, #ffba56) !important;
    color: #fff;
}

.card .card-statistic-3 .card-icon-large .fas, .card .card-statistic-3 .card-icon-large .far, .card .card-statistic-3 .card-icon-large .fab, .card .card-statistic-3 .card-icon-large .fal {
    font-size: 110px;
}

.card .card-statistic-3 .card-icon {
    text-align: center;
    line-height: 50px;
    margin-left: 15px;
    color: #000;
    position: absolute;
    right: -5px;
    top: 20px;
    opacity: 0.1;
}

.l-bg-cyan {
    background: linear-gradient(135deg, #289cf5, #84c0ec) !important;
    color: #fff;
}

.l-bg-green {
    background: linear-gradient(135deg, #23bdb8 0%, #43e794 100%) !important;
    color: #fff;
}

.l-bg-orange {
    background: linear-gradient(to right, #f9900e, #ffba56) !important;
    color: #fff;
}

.l-bg-cyan {
    background: linear-gradient(135deg, #289cf5, #84c0ec) !important;
    color: #fff;
}
.link_in_cards{
    color: white;
    text-decoration: none;

}
    </style>


    <!-- Custom styles for this template -->
    <link href="dashboard.css" rel="stylesheet">
  </head>
  <body>

      <h4>Dashboard</h4>
      <br>

     <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />

<div class="col-md-10 ">
    <div class="row ">
        <div class="col-xl-3 col-lg-6">
            <div class="card l-bg-cherry">
                <div class="card-statistic-3 p-4">
                    <div class="card-icon card-icon-large"><i class="fas fa-shopping-cart"></i></div>
                    <a  class="link_in_cards" href = {% url 'products_admin' %}  ><div class="mb-4">
                        <h5 class="card-title mb-0" >Products total</h5>
                    </div></a>
                    <div class="row align-items-center mb-2 d-flex">
                        <div class="col-8">
                            <h2 class="d-flex align-items-center mb-0">
                                {{ products_together }}
                            </h2>
                        </div>
                        <div class="col-4 text-right">
                            <span> New <span> </span> {{ new_products_number }}<i class="fa fa-arrow-up"></i></span>
                        </div>
                    </div>

                </div>
            </div>
        </div>
        <div class="col-xl-3 col-lg-6">
            <div class="card l-bg-blue-dark">
                <div class="card-statistic-3 p-4">
                    <div class="card-icon card-icon-large"><i class="fas fa-users"></i></div>
                    <div class="mb-4">
                        <a class="link_in_cards" href = {% url 'users_admin' %}> <h5 class="card-title mb-0">Users total</h5></a>
                    </div>
                    <div class="row align-items-center mb-2 d-flex">
                        <div class="col-8">
                            <h2 class="d-flex align-items-center mb-0"></a>
                                {{ users_together}}
                            </h2>
                        </div>
                        <div class="col-4 text-right">
                            <span>9.23% <i class="fa fa-arrow-up"></i></span>
                        </div>
                    </div>
 <div class="progress mt-1 " data-height="8" style="height: 8px;">
                        <div class="progress-bar l-bg-cyan" role="progressbar" style="width:{{ users_together }}%"   aria-valuemin="0" aria-valuemax="10" ></div>
                    </div>

                </div>
            </div>
        </div>
        <div class="col-xl-3 col-lg-6">
            <div class="card l-bg-green-dark">
                <div class="card-statistic-3 p-4">
                    <div class="card-icon card-icon-large"><i class="fas fa-ticket-alt"></i></div>
                    <div class="mb-4">
                        <a class="link_in_cards" href = {% url 'categories_admin' %}><h5 class="card-title mb-0">Categories Total</h5></a>
                    </div>
                    <div class="row align-items-center mb-2 d-flex">
                        <div class="col-8">
                            <h2 class="d-flex align-items-center mb-0">
                                {{ categories_together }}
                            </h2>
                        </div>
                        <div class="col-4 text-right">
                            <span>100% <i class="fa fa-arrow-up"></i></span>
                        </div>
                        </div>
                         <div class="progress mt-1 " data-height="8" style="height: 8px;">
                        <div class="progress-bar l-bg-cyan" role="progressbar" style="width:{{ categories_together }}%"   aria-valuemin="0" aria-valuemax="10" ></div>
                    </div>
                    </div>

                </div>

        </div>
        <div class="col-xl-3 col-lg-6">
            <div class="card l-bg-orange-dark">
                <div class="card-statistic-3 p-4">
                    <div class="card-icon card-icon-large"><i class="fas fa-dollar-sign"></i></div>
                    <div class="mb-4">
                        <h5 class="card-title mb-0">Orders</h5>
                    </div>
                    <div class="row align-items-center mb-2 d-flex">
                        <div class="col-8">
                            <h2 class="d-flex align-items-center mb-0">
                                $11.61k
                            </h2>
                        </div>
                        <div class="col-4 text-right">
                            <span>2.5% <i class="fa fa-arrow-up"></i></span>
                        </div>
                    </div>
                    <div class="progress mt-1 " data-height="8" style="height: 8px;">
                        <div class="progress-bar l-bg-cyan" role="progressbar" data-width="25%" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100" style="width: 25%;"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

        <h4> Best selling products</h4>
<br>



            <div class="container px-4 px-lg-5 mt-2 " >
                <div class="row gx-4 gx-lg-6 row-cols-2 row-cols-md-3 row-cols-xl-5">
        {% for items, quan in final_items.items %}

                    <div class="col mb-5">

                        <div class="card h-100 border-white">

                            <!-- Product image-->
                            <a  href="{% url 'show_product' items.product_id %}"><img class="card-img-top "   src="{{items.image1 }}" alt="..." /></a>
                            <!-- Product details-->
                            <div class="card-body p-4">

                                    <!-- Product name-->
                                    <a  href="{% url 'show_product' items.product_id %}" style = "text-decoration: none; color: black"><h8 class="fs-8">{{items.name}}</h8></a>
                                    <p><span class="fs-6" >{{items.price}} â‚¬</span></p>
                                                      </div>
                        </div>
            </div>



                    {% endfor %}


             </div>





    <div class="row-cols-md-3-flex">
 <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.5.0/Chart.min.js"></script>
    <canvas id="myChart" style="width:100%; max-width: 600px"></canvas>

<script>

var xValues = {{ categories_names|safe }};
var yValues = {{ product_numbers|safe }};
var barColors ={{ barcolors|safe}}



new Chart("myChart", {
  type: "bar",
  data: {
    labels: xValues,
    datasets: [{
      backgroundColor: barColors,
      data: yValues
    }]
  },
  options: {
    legend: {display: false},
    title: {
      display: true,
      text: "Products in Categories",


    }
  }
});
</script>
    </div>
         <div class="col-md-2-flex">
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <div
id="myChart1" style="width:100%; max-width:600px; height:500px;">
</div>
             </div>

<script>
google.charts.load('current', {'packages':['corechart']});
google.charts.setOnLoadCallback(drawChart);


function drawChart() {
var data = google.visualization.arrayToDataTable([
  ['Categories', 'Products'],
  ['Laptops',8],
  ['Mobile',7],
  ['Home',4],
  ['Computers',3],
  ['Samsung phones',1],
  ['TV/Audio',1],

]);

var options = {
  title:'Products in categories'
};

var chart = new google.visualization.PieChart(document.getElementById('myChart1'));
  chart.draw(data, options);
}
</script>

             <div class="col-md-2-flex">
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <div
id="myChart2" style="width:100%; max-width:600px; height:500px;">
</div>
             </div>
            <script>

google.charts.load('current', {'packages':['corechart']});
google.charts.setOnLoadCallback(drawChart2);


function drawChart2() {
var data = google.visualization.arrayToDataTable([
  ['Categories', 'Products'],
  ['Laptops',8],
  ['Mobile',7],
  ['Home',4],
  ['Computers',3],
  ['Samsung phones',1],
  ['TV/Audio',1],

]);

var options = {
  title:'Sales in categories'
};

var chart = new google.visualization.PieChart(document.getElementById('myChart2'));
  chart.draw(data, options);
}
</script>
</div>

      </div>

    </main>
  </div>
</div>


    <script src="/docs/5.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-OERcA2EqjJCMA+/3y+gxIOqMEjwtxJY7qPCqsdltbNJuaOe923+mo//f6V8Qbsw3" crossorigin="anonymous"></script>

      <script src="https://cdn.jsdelivr.net/npm/feather-icons@4.28.0/dist/feather.min.js" integrity="sha384-uO3SXW5IuS1ZpFPKugNNWqTZRRglnUJK6UAZ/gxOX80nxEkN9NcGZTftn6RzhGWE" crossorigin="anonymous"></script><script src="https://cdn.jsdelivr.net/npm/chart.js@2.9.4/dist/Chart.min.js" integrity="sha384-zNy6FEbO50N+Cg5wap8IKA4M/ZnLJgzc6w2NqACZaK0u0FXfOWRRJOnQtpZun8ha" crossorigin="anonymous"></script><script src="dashboard.js"></script>

  </body>


{% endblock %}